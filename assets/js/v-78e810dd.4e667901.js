"use strict";(self.webpackChunkway23=self.webpackChunkway23||[]).push([[5999],{66175:(n,s,e)=>{e.r(s),e.d(s,{data:()=>a});const a={key:"v-78e810dd",path:"/%D0%BE%D0%B1%D0%BB%D0%B0%D1%81%D1%82%D0%B8-%D0%B2%D0%B8%D0%B4%D0%B8%D0%BC%D0%BE%D1%81%D1%82%D0%B8-%D1%8D%D0%BB%D0%B5%D0%BC%D0%B5%D0%BD%D1%82%D0%BE%D0%B2-%D0%BA%D0%BB%D0%B0%D1%81%D1%81%D0%BE%D0%B2-delp.html",title:"Области видимости элементов классов Delphi",lang:"ru-RU",frontmatter:{title:"Области видимости элементов классов Delphi",date:"2019-05-07",categories:["Delphi"],tags:["Delphi"]},excerpt:"",headers:[{level:2,title:"public",slug:"public",children:[]},{level:2,title:"published",slug:"published",children:[]},{level:2,title:"Область по умолчанию",slug:"область-по-умолчанию",children:[]},{level:2,title:"strict private",slug:"strict-private",children:[]},{level:2,title:"private",slug:"private",children:[]},{level:2,title:"strict protected",slug:"strict-protected",children:[]},{level:2,title:"protected",slug:"protected",children:[]},{level:2,title:"Ссылки",slug:"ссылки",children:[]}],filePathRelative:"области-видимости-элементов-классов-delp.md",git:{updatedTime:1692859375e3}}},7974:(n,s,e)=>{e.r(s),e.d(s,{default:()=>R});var a=e(66252),r=e(3577);const l={id:"frontmatter-title",tabindex:"-1"},i=(0,a._)("a",{class:"header-anchor",href:"#frontmatter-title","aria-hidden":"true"},"#",-1),p=(0,a.uE)('<p>Для контроля доступа к полям, методам и свойствам классов используются области видимости. В Delphi есть следующие области видимости:</p><ul><li>public</li><li>published</li><li>strict private</li><li>private</li><li>strict protected</li><li>protected</li></ul><p>Рассмотрим их на примерах.</p><h2 id="public" tabindex="-1"><a class="header-anchor" href="#public" aria-hidden="true">#</a> public</h2><p>Элементы секции <strong>public</strong> не имеют ограничений доступа. Они доступны отовсюду: из методов своего класса, из методов других классов, из своего модуля и из других модулей.</p><div class="language-delphi ext-delphi line-numbers-mode"><pre class="language-delphi"><code>unit uCircle;\n\ninterface\n\ntype\n  TCircle = class\n  public\n    FRadius: Integer;\n\n    function Area: Extended;\n  end;\n\nimplementation\n\n{ TCircle }\n\nfunction TCircle.Area: Extended;\nbegin\n  Result := FRadius * FRadius * Pi;    // Поле доступно внутри класса\nend;\n\nend.\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><div class="language-delphi ext-delphi line-numbers-mode"><pre class="language-delphi"><code>unit uCheckCircle;\n\ninterface\n\nprocedure CheckCircle;\n\nimplementation\n\nuses\n  System.SysUtils,\n  Vcl.Dialogs,\n  uCircle;\n\nprocedure CheckCircle;\nvar\n  Circle: TCircle;\nbegin\n  Circle := TCircle.Create;\n  try\n    Circle.FRadius := 2; // Поле доступно снаружи\n    ShowMessage(FloatToStr(Circle.FRadius));\n  finally\n    FreeAndNil(Circle);\n  end;\nend;\n\nend.\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><div class="language-delphi ext-delphi line-numbers-mode"><pre class="language-delphi"><code>uses\n  uCheckCircle;\n\nprocedure TForm1.Button1Click(Sender: TObject);\nbegin\n  CheckCircle;\nend;\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="published" tabindex="-1"><a class="header-anchor" href="#published" aria-hidden="true">#</a> published</h2>',9),b=(0,a.Uk)("Видимость элементов в секции "),c=(0,a._)("strong",null,"published",-1),u=(0,a.Uk)(" полностью аналогична секции "),t=(0,a._)("strong",null,"public",-1),m=(0,a.Uk)(". В этом посте рассматривается только поведение касающееся видимости, подробнее в различиях связанных с RTTI описано "),d={href:"http://docwiki.embarcadero.com/RADStudio/Rio/en/Private,_Protected,_Public,_and_Published_Declarations",target:"_blank",rel:"noopener noreferrer"},o=(0,a.Uk)("в документации"),h=(0,a.Uk)("."),g=(0,a.uE)('<h2 id="область-по-умолчанию" tabindex="-1"><a class="header-anchor" href="#область-по-умолчанию" aria-hidden="true">#</a> Область по умолчанию</h2><p>Если не указывать область видимости то она будет аналогичной области <strong>public</strong>.</p><div class="language-delphi ext-delphi line-numbers-mode"><pre class="language-delphi"><code>unit uCircle;\n\ninterface\n\ntype\n  TCircle = class\n    FRadius: Integer;\n\n    function Area: Extended;\n  end;\n\nimplementation\n\n{ TCircle }\n\nfunction TCircle.Area: Extended;\nbegin\n  Result := FRadius * FRadius * Pi;    // Поле доступно внутри класса\nend;\n\nend.\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>Аналогично поле видно и из других модулей.</p><h2 id="strict-private" tabindex="-1"><a class="header-anchor" href="#strict-private" aria-hidden="true">#</a> strict private</h2><p>Самая ограниченная область видимости. Элементы в секции <strong>private</strong> доступны только из методов класса. К ним нет доступа из методов других объектов, независимо от модуля в котором они находятся. Также к ним нет доступа из наследников данного объекта.</p><div class="language-delphi ext-delphi line-numbers-mode"><pre class="language-delphi"><code>unit uCircle;\n\ninterface\n\ntype\n  TCircle = class\n  strict private\n    FRadius: Integer;\n\n  public\n    function Area: Extended;\n  end;\n\nprocedure CheckCircle;\n\nimplementation\n\nuses\n  System.SysUtils,\n  Vcl.Dialogs;\n\n{ TCircle }\n\nfunction TCircle.Area: Extended;\nbegin\n  Result := FRadius * FRadius * Pi;    // Поле доступно внутри класса\nend;\n\nprocedure CheckCircle;\nvar\n  Circle: TCircle;\nbegin\n  Circle := TCircle.Create;\n  try\n    Circle.FRadius := 2; // ошибка компиляции\n    ShowMessage(FloatToStr(Circle.FRadius));\n  finally\n    FreeAndNil(Circle);\n  end;\nend;\n\nend.\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><h2 id="private" tabindex="-1"><a class="header-anchor" href="#private" aria-hidden="true">#</a> private</h2><p>Секция <strong>private</strong> совпадает с секцией <strong>strict private</strong>, за исключением того что все элементы этой секции доступны из любого метода любого класса в том же модуле в котором объявлен класс.</p><div class="language-delphi ext-delphi line-numbers-mode"><pre class="language-delphi"><code>unit uCircle;\n\ninterface\n\ntype\n  TCircle = class\n  private\n    FRadius: Integer;\n\n  public\n    function Area: Extended;\n  end;\n\nprocedure CheckCircle;\n\nimplementation\n\nuses\n  System.SysUtils,\n  Vcl.Dialogs;\n\n{ TCircle }\n\nfunction TCircle.Area: Extended;\nbegin\n  Result := FRadius * FRadius * Pi;    // Поле доступно внутри класса\nend;\n\nprocedure CheckCircle;\nvar\n  Circle: TCircle;\nbegin\n  Circle := TCircle.Create;\n  try\n    Circle.FRadius := 2; // работает\n    ShowMessage(FloatToStr(Circle.FRadius));\n  finally\n    FreeAndNil(Circle);\n  end;\nend;\n\nend.\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><p>Если перенести процедуру <code>CheckCircle</code> в другой модуль то произойдёт ошибка компиляции, так как <code>FRadius</code> уже будет недоступен.</p><h2 id="strict-protected" tabindex="-1"><a class="header-anchor" href="#strict-protected" aria-hidden="true">#</a> strict protected</h2><p>Элементы объявленные с секции <strong>strict protected</strong> доступны только из методов самого класса и из классов потомков. От модуля в котором они находятся это не зависит.</p><div class="language-delphi ext-delphi line-numbers-mode"><pre class="language-delphi"><code>unit uCircle;\n\ninterface\n\ntype\n  TCircle = class\n  strict protected\n    FRadius: Integer;\n  public\n    function Area: Extended;\n  end;\n\n  TSuperCircle = class(TCircle)\n  public\n    function Diameter: Extended;\n  end;\n\nprocedure CheckCircle;\n\nimplementation\n\nuses\n  System.SysUtils,\n  Vcl.Dialogs;\n\n{ TCircle }\n\nfunction TCircle.Area: Extended;\nbegin\n  Result := FRadius * FRadius * Pi;    // Поле доступно внутри класса\nend;\n\n{ TSuperCircle }\n\nfunction TSuperCircle.Diameter: Extended;\nbegin\n  Result := FRadius * 2; // Поле доступно в потомке\nend;\n\nprocedure CheckCircle;\nvar\n  Circle: TCircle;\nbegin\n  Circle := TCircle.Create;\n  try\n    Circle.FRadius := 2; // но вне класса также недоступно\n    ShowMessage(FloatToStr(Circle.FRadius));\n  finally\n    FreeAndNil(Circle);\n  end;\nend;\n\nend.\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br></div></div><h2 id="protected" tabindex="-1"><a class="header-anchor" href="#protected" aria-hidden="true">#</a> protected</h2><p>Секция <strong>protected</strong> совпадает с секцией <strong>strict protected</strong>, за исключением того что все элементы этой секции доступны из любого метода в том же модуле в котором объявлен класс. Ситуация аналогичная <strong>private</strong> и <strong>strict private</strong>.</p><h2 id="ссылки" tabindex="-1"><a class="header-anchor" href="#ссылки" aria-hidden="true">#</a> Ссылки</h2>',17),C={href:"http://docwiki.embarcadero.com/RADStudio/Rio/en/Classes_and_Objects_(Delphi)#Private.2C_Protected.2C_and_Public_Members",target:"_blank",rel:"noopener noreferrer"},v=(0,a.Uk)("Документация Delphi"),D={href:"https://www.gunsmoker.ru/2013/02/delphi-friendliness.html",target:"_blank",rel:"noopener noreferrer"},f=(0,a.Uk)('"Дружественность" в Delphi'),R={render:function(n,s){const e=(0,a.up)("OutboundLink");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("h1",l,[i,(0,a.Uk)(" "+(0,r.zw)(n.$frontmatter.title),1)]),p,(0,a._)("p",null,[b,c,u,t,m,(0,a._)("a",d,[o,(0,a.Wm)(e)]),h]),g,(0,a._)("ul",null,[(0,a._)("li",null,[(0,a._)("a",C,[v,(0,a.Wm)(e)])]),(0,a._)("li",null,[(0,a._)("a",D,[f,(0,a.Wm)(e)])])])],64)}}}}]);