"use strict";(self.webpackChunkway23=self.webpackChunkway23||[]).push([[4097],{1018:(e,t,n)=>{n.r(t),n.d(t,{data:()=>s});const s={key:"v-4e9adf3e",path:"/python-poetry-pytest.html",title:"Шаблон проекта Python с Poetry и pytest",lang:"ru-RU",frontmatter:{title:"Шаблон проекта Python с Poetry и pytest",date:"2023-09-07",categories:["Python"],tags:["Poetry","pytest"]},excerpt:"",headers:[],filePathRelative:"python-poetry-pytest.md",git:{updatedTime:1694083095e3}}},50881:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var s=n(66252),a=n(3577);const r={id:"frontmatter-title",tabindex:"-1"},p=(0,s._)("a",{class:"header-anchor",href:"#frontmatter-title","aria-hidden":"true"},"#",-1),l=(0,s.Uk)("Для установки "),i={href:"https://docs.pytest.org/",target:"_blank",rel:"noopener noreferrer"},o=(0,s.Uk)("pytest"),c=(0,s.Uk)(" в виртуальное окружение выполните команды:"),d=(0,s.uE)('<div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>poetry init\npoetry add -D pytest\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>При этом <code>pytest</code> будет добавлен в зависимости времени разработки.</p><p>Тесты будут находится в каталоге <code>tests</code>, этот каталог должен быть пакетом Python, поэтому в нем необходим файл <code>__init__.py</code>. Итоговая структура каталогов:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>.\n├── main.py\n├── my_math\n│   ├── mul.py\n├── poetry.lock\n├── pyproject.toml\n└── tests\n    ├── __init__.py\n    ├── test_mul.py\n    └── test_sum.py\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Обращение к модулям проекта из файлов тестов <code>test_sum.py</code> и <code>test_mul.py</code> происходит следующим образом:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>from main import sum2\n\nfrom my_math.mul import mul2\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Для запуска тестов используйте команду</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>poetry run pytest\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Эта команда автоматически найдет все файлы с тестами в каталоге <code>tests</code> и запустит тесты.</p>',9),m=(0,s.Uk)("Пример находится в "),u={href:"https://github.com/Kverde/pytest-template",target:"_blank",rel:"noopener noreferrer"},b=(0,s.Uk)("репозитории pytest-template"),y=(0,s.Uk)("."),g={render:function(e,t){const n=(0,s.up)("OutboundLink");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("h1",r,[p,(0,s.Uk)(" "+(0,a.zw)(e.$frontmatter.title),1)]),(0,s._)("p",null,[l,(0,s._)("a",i,[o,(0,s.Wm)(n)]),c]),d,(0,s._)("p",null,[m,(0,s._)("a",u,[b,(0,s.Wm)(n)]),y])],64)}}}}]);