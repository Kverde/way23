"use strict";(self.webpackChunkway23=self.webpackChunkway23||[]).push([[7314],{37911:(n,s,a)=>{a.r(s),a.d(s,{data:()=>e});const e={key:"v-616a6767",path:"/db-cassandra.html",title:"Базы данных: Apache Cassandra",lang:"ru-RU",frontmatter:{title:"Базы данных: Apache Cassandra",date:"2025-01-06",categories:["Базы данных"],tags:["Apache Cassandra","Колоночные БД"]},excerpt:"",headers:[{level:2,title:"Запуск",slug:"запуск",children:[]},{level:2,title:"Пример на Python",slug:"пример-на-python",children:[]},{level:2,title:"Ссылки",slug:"ссылки",children:[]}],filePathRelative:"db-cassandra.md",git:{updatedTime:1736157487e3}}},23073:(n,s,a)=>{a.r(s),a.d(s,{default:()=>w});var e=a(66252),p=a(3577);const t={id:"frontmatter-title",tabindex:"-1"},o=(0,e._)("a",{class:"header-anchor",href:"#frontmatter-title","aria-hidden":"true"},"#",-1),c={href:"https://cassandra.apache.org",target:"_blank",rel:"noopener noreferrer"},l=(0,e.Uk)("Apache Cassandra"),r=(0,e.Uk)(" ("),u={href:"https://github.com/apache/cassandra",target:"_blank",rel:"noopener noreferrer"},i=(0,e.Uk)("GitHub"),k=(0,e.Uk)(") — колоночная база данных. Cassandra применяется для распределенных систем в которых требуется высокая скорость записи и менее высокие требования к чтению и агрегации данных. Cassandra направлена на OLTP."),b=(0,e.uE)('<p>Вместо SQL в Cassandra используется CQL (Cassandra Query Language) который очень похож на SQL.</p><h2 id="запуск" tabindex="-1"><a class="header-anchor" href="#запуск" aria-hidden="true">#</a> Запуск</h2><p>Запустить Cassandra проще всего через [docker]https://hub.docker.com/_/cassandra).</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>docker run -d --name cassandra <span class="token punctuation">\\</span>\n  -p <span class="token number">9042</span>:9042 <span class="token punctuation">\\</span>\n  cassandra:latest\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="пример-на-python" tabindex="-1"><a class="header-anchor" href="#пример-на-python" aria-hidden="true">#</a> Пример на Python</h2>',5),d=(0,e.Uk)("Пример использования библиотеки "),m={href:"https://github.com/datastax/python-driver",target:"_blank",rel:"noopener noreferrer"},h=(0,e.Uk)("cassandra-driver"),g=(0,e.Uk)(":"),f=(0,e.uE)('<div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">from</span> cassandra<span class="token punctuation">.</span>cluster <span class="token keyword">import</span> Cluster\n<span class="token keyword">from</span> uuid <span class="token keyword">import</span> uuid4\n\n<span class="token comment"># Подключение к кластеру Cassandra с указанием порта</span>\ncluster <span class="token operator">=</span> Cluster<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;localhost&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">9042</span><span class="token punctuation">)</span>\nsession <span class="token operator">=</span> cluster<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token punctuation">)</span>\n\n<span class="token comment"># Создание ключевого пространства</span>\nsession<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token triple-quoted-string string">&quot;&quot;&quot;\n    CREATE KEYSPACE IF NOT EXISTS test_keyspace\n    WITH REPLICATION = { &#39;class&#39;: &#39;SimpleStrategy&#39;, &#39;replication_factor&#39;: 1 }\n&quot;&quot;&quot;</span><span class="token punctuation">)</span>\n\n<span class="token comment"># Подключение к созданному ключевому пространству</span>\nsession<span class="token punctuation">.</span>set_keyspace<span class="token punctuation">(</span><span class="token string">&#39;test_keyspace&#39;</span><span class="token punctuation">)</span>\n\n<span class="token comment"># Создание таблицы</span>\nsession<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token triple-quoted-string string">&quot;&quot;&quot;\n    CREATE TABLE IF NOT EXISTS users (\n        id UUID PRIMARY KEY,\n        name text,\n        age int\n    )\n&quot;&quot;&quot;</span><span class="token punctuation">)</span>\n\n<span class="token comment"># Вставка данных</span>\nsession<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token triple-quoted-string string">&quot;&quot;&quot;\n    INSERT INTO users (id, name, age) VALUES (%s, %s, %s)\n&quot;&quot;&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>uuid4<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;Alice&#39;</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\nsession<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token triple-quoted-string string">&quot;&quot;&quot;\n    INSERT INTO users (id, name, age) VALUES (%s, %s, %s)\n&quot;&quot;&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>uuid4<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#39;Bob&#39;</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n\n<span class="token comment"># Запрос данных</span>\nrows <span class="token operator">=</span> session<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">&quot;SELECT * FROM users&quot;</span><span class="token punctuation">)</span>\n<span class="token keyword">for</span> row <span class="token keyword">in</span> rows<span class="token punctuation">:</span>\n    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&#39;ID: </span><span class="token interpolation"><span class="token punctuation">{</span>row<span class="token punctuation">.</span><span class="token builtin">id</span><span class="token punctuation">}</span></span><span class="token string">, Name: </span><span class="token interpolation"><span class="token punctuation">{</span>row<span class="token punctuation">.</span>name<span class="token punctuation">}</span></span><span class="token string">, Age: </span><span class="token interpolation"><span class="token punctuation">{</span>row<span class="token punctuation">.</span>age<span class="token punctuation">}</span></span><span class="token string">&#39;</span></span><span class="token punctuation">)</span>\n\n<span class="token comment"># ID: e938b62d-fcfa-4da2-82ac-facea5bf3188, Name: Alice, Age: 30</span>\n<span class="token comment">#ID: 9ed6cd1b-d44b-4d28-b5ae-e900f83d42b4, Name: Bob, Age: 25</span>\n\n<span class="token comment"># Закрытие соединения</span>\ncluster<span class="token punctuation">.</span>shutdown<span class="token punctuation">(</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><h2 id="ссылки" tabindex="-1"><a class="header-anchor" href="#ссылки" aria-hidden="true">#</a> Ссылки</h2>',2),q={href:"https://www.youtube.com/watch?v=Ae4GABykRoM",target:"_blank",rel:"noopener noreferrer"},y=(0,e.Uk)("Введение в фундаментальные принципы и основы Apache Cassandra: Cassandra Day Russia Workshop I"),w={render:function(n,s){const a=(0,e.up)("OutboundLink");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e._)("h1",t,[o,(0,e.Uk)(" "+(0,p.zw)(n.$frontmatter.title),1)]),(0,e._)("p",null,[(0,e._)("a",c,[l,(0,e.Wm)(a)]),r,(0,e._)("a",u,[i,(0,e.Wm)(a)]),k]),b,(0,e._)("p",null,[d,(0,e._)("a",m,[h,(0,e.Wm)(a)]),g]),f,(0,e._)("ul",null,[(0,e._)("li",null,[(0,e._)("a",q,[y,(0,e.Wm)(a)])])])],64)}}}}]);