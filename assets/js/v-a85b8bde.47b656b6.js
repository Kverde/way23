"use strict";(self.webpackChunkway23=self.webpackChunkway23||[]).push([[7816],{45427:(e,n,s)=>{s.r(n),s.d(n,{data:()=>a});const a={key:"v-a85b8bde",path:"/linux-grep.html",title:"Команда grep в Linux",lang:"ru-RU",frontmatter:{title:"Команда grep в Linux",date:"2023-12-06",categories:["Linux"],tags:["grep"]},excerpt:"",headers:[{level:2,title:"Ссылки",slug:"ссылки",children:[]}],filePathRelative:"linux-grep.md",git:{updatedTime:1701888425e3}}},60163:(e,n,s)=>{s.r(n),s.d(n,{default:()=>x});var a=s(66252),r=s(3577);const l={id:"frontmatter-title",tabindex:"-1"},p=(0,a._)("a",{class:"header-anchor",href:"#frontmatter-title","aria-hidden":"true"},"#",-1),i=(0,a.Uk)("Команда "),c=(0,a._)("code",null,"grep",-1),o=(0,a.Uk)(" возвращает строки из файла попадающие под определенное условие. Для примера возьмем файл со "),t={href:"https://github.com/dominictarr/random-name/blob/master/places.txt",target:"_blank",rel:"noopener noreferrer"},b=(0,a.Uk)("случайным списком мест"),u=(0,a.Uk)(" и применим к нему "),d=(0,a._)("code",null,"grep",-1),m=(0,a.Uk)(". В простейшем случае нужно в "),g=(0,a._)("code",null,"grep",-1),v=(0,a.Uk)(" нужно передать шаблон для поиска и имя файла, программа вернет все строки файла в которых шаблон является подстрокой."),h=(0,a.uE)('<div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>user@debian-server:~/test$ <span class="token function">grep</span> ozo file.txt \nBozoo\nCarrizozo\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Вместо имени файла данные можно передать через <code>stdin</code>.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>user@debian-server:~/test$ <span class="token function">cat</span> file.txt <span class="token operator">|</span> <span class="token function">grep</span> ozo\nBozoo\nCarrizozo\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>По умолчанию поиск регистрозависимый, для регистронезависимого поиска применяется параметр <code>-i</code>.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>user@debian-server:~/test$ <span class="token function">grep</span> -i ozo file.txt \nBozoo\nCarrizozo\nOzona\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>С помощью параметра <code>-e</code> можно передать несколько шаблонов.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>user@debian-server:~/test$ <span class="token function">grep</span> -e ozo -e roz file.txt \nBozoo\nCarrizozo\nCorozal\nCrozet\nCrozier\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>По умолчанию <code>grep</code> выдает строку, при любом совпадении с шаблоном, с параметром <code>-w</code> строка будет выведена только если шаблон присутствует в ней в виде отдельного файла.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>user@debian-server:~/test$ <span class="token function">grep</span> -i Aguila file.txt \nAguila\nAguilar\nuser@debian-server:~/test$ <span class="token function">grep</span> -iw Aguila file.txt \nAguila\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Параметр <code>-x</code> заставит <code>grep</code> выдавать строку если она полностью совпадает с шаблонов. Так как в файле примере каждая строка состоит из одного слова, то результат совпадает с <code>-w</code>.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>user@debian-server:~/test$ <span class="token function">grep</span> -ix Aguila file.txt \nAguila\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>С параметром <code>-c</code> команда выведет только количество найденных строк.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>user@debian-server:~/test$ <span class="token function">grep</span> -c ozo file.txt \n<span class="token number">2</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Параметр <code>-v</code> заставляет искать только строки в которых нет совпадения с шаблоном. Проверим это, сумма строк без <code>-v</code> и с <code>-v</code> должна совпасть с общим количеством строк в файле.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>user@debian-server:~/test$ <span class="token function">grep</span> -cv ozo file.txt \n<span class="token number">10194</span>\nuser@debian-server:~/test$ <span class="token function">wc</span> -l file.txt \n<span class="token number">10196</span> file.txt\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>У команды <code>grep</code> много других параметров, например, она может выводить номера строк и имена файлов.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>user@debian-server:~/test$ <span class="token function">grep</span> -n ozo file.txt \n<span class="token number">1035</span>:Bozoo\n<span class="token number">1494</span>:Carrizozo\nuser@debian-server:~/test$ <span class="token function">grep</span> -H ozo file.txt \nfile.txt:Bozoo\nfile.txt:Carrizozo\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Параметр <code>-E</code> позволяет применять в поиске регулярные выражения.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>user@debian-server:~/test$ <span class="token function">grep</span> -E <span class="token string">&#39;^A..(nd|st)&#39;</span> file.txt \nAcosta\nAmanda\nAmistad\nArendtsville\nAristes\nAviston\nAvondale\nAwendaw\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="ссылки" tabindex="-1"><a class="header-anchor" href="#ссылки" aria-hidden="true">#</a> Ссылки</h2>',20),f={href:"https://www.gnu.org/software/grep/manual/grep.html",target:"_blank",rel:"noopener noreferrer"},k=(0,a.Uk)("Grep documentation"),x={render:function(e,n){const s=(0,a.up)("OutboundLink");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("h1",l,[p,(0,a.Uk)(" "+(0,r.zw)(e.$frontmatter.title),1)]),(0,a._)("p",null,[i,c,o,(0,a._)("a",t,[b,(0,a.Wm)(s)]),u,d,m,g,v]),h,(0,a._)("ul",null,[(0,a._)("li",null,[(0,a._)("a",f,[k,(0,a.Wm)(s)])])])],64)}}}}]);