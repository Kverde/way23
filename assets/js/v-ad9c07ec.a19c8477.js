"use strict";(self.webpackChunkway23=self.webpackChunkway23||[]).push([[9989],{39191:(s,e,n)=>{n.r(e),n.d(e,{data:()=>a});const a={key:"v-ad9c07ec",path:"/linux-umask.html",title:"Права на файлы и каталоги по умолчанию (umask)",lang:"ru-RU",frontmatter:{title:"Права на файлы и каталоги по умолчанию (umask)",date:"2023-11-30",categories:["Linux"],tags:["umask"]},excerpt:"",headers:[],filePathRelative:"linux-umask.md",git:{updatedTime:170128661e4}}},66315:(s,e,n)=>{n.r(e),n.d(e,{default:()=>p});var a=n(66252),r=n(3577);const t={id:"frontmatter-title",tabindex:"-1"},l=(0,a._)("a",{class:"header-anchor",href:"#frontmatter-title","aria-hidden":"true"},"#",-1),c=(0,a.uE)('<p>Если создать файл и каталог, то права файла будут <code>644</code>, а у каталога <code>755</code>.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>user@debian-server:~/test$ <span class="token function">touch</span> file.txt\nuser@debian-server:~/test$ <span class="token function">mkdir</span> <span class="token function">dir</span>\nuser@debian-server:~/test$ <span class="token function">ls</span> -l\ntotal <span class="token number">4</span>\ndrwxr-xr-x <span class="token number">2</span> user user <span class="token number">4096</span> ноя <span class="token number">29</span> <span class="token number">14</span>:22 <span class="token function">dir</span>\n-rw-r--r-- <span class="token number">1</span> user user    <span class="token number">0</span> ноя <span class="token number">29</span> <span class="token number">14</span>:22 file.txt\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Такие права получается из совмещения прав по умолчанию и маски режима. Права по умолчанию для каталогов <code>777</code>, а для файлов без возможности выполнения — <code>666</code>. Маску режима можно посмотреть командой <code>umask</code>.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>user@debian-server:~/test$ <span class="token builtin class-name">umask</span>\n0022\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Маска режима определяет те параметры которые будут исключены из значения п умолчанию при создании файла. Первая цифра маски игнорируется, а остальные три — маска для пользователя, группы и остальных. Расшифровываются они так же как в обычных правах для файлов. Итоговые права вычисляются следующим образом: маска инвертируется (not) и вычисляется логическое И для инвертированной маски и прав по умолчанию.</p><ul><li>Для файлов: not <code>000 010 010</code> and <code>110 110 110</code> = <code>110 100 100</code> = <code>644</code></li><li>Для каталогов: not <code>000 010 010</code> and <code>111 111 111</code> = <code>111 101 101</code> = <code>755</code></li></ul><p>Значение <code>umask</code> можно изменить. Изменение будет работать в рамках текущей сессии.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>user@debian-server:~/test$ <span class="token builtin class-name">umask</span> 077\nuser@debian-server:~/test$ <span class="token function">touch</span> file2.txt\nuser@debian-server:~/test$ <span class="token function">ls</span> -l file2.txt \n-rw------- <span class="token number">1</span> user user <span class="token number">0</span> ноя <span class="token number">29</span> <span class="token number">14</span>:33 file2.txt\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div>',8),p={render:function(s,e){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("h1",t,[l,(0,a.Uk)(" "+(0,r.zw)(s.$frontmatter.title),1)]),c],64)}}}}]);