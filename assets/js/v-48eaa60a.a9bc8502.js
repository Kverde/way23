"use strict";(self.webpackChunkway23=self.webpackChunkway23||[]).push([[973],{83959:(n,s,a)=>{a.r(s),a.d(s,{data:()=>e});const e={key:"v-48eaa60a",path:"/linux-sort-uniq.html",title:"Команды sort и uniq в Linux",lang:"ru-RU",frontmatter:{title:"Команды sort и uniq в Linux",date:"2023-12-02",categories:["Linux"],tags:["sort","uniq"]},excerpt:"",headers:[{level:2,title:"sort",slug:"sort",children:[]},{level:2,title:"uniq",slug:"uniq",children:[]}],filePathRelative:"linux-sort-uniq.md",git:{updatedTime:1701533327e3}}},52808:(n,s,a)=>{a.r(s),a.d(s,{default:()=>u});var e=a(66252),r=a(3577);const p={id:"frontmatter-title",tabindex:"-1"},l=(0,e._)("a",{class:"header-anchor",href:"#frontmatter-title","aria-hidden":"true"},"#",-1),t={class:"table-of-contents"},c=(0,e.Uk)("sort"),i=(0,e.Uk)("uniq"),b=(0,e.uE)('<h2 id="sort" tabindex="-1"><a class="header-anchor" href="#sort" aria-hidden="true">#</a> sort</h2><p>Команда <code>sort</code> сортирует входящую последовательность строк.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>user@debian-server:~/test$ <span class="token function">cat</span> lines.txt \nbob\nalica\nstive\npatrik\nuser@debian-server:~/test$ <span class="token function">cat</span> lines.txt <span class="token operator">|</span> <span class="token function">sort</span>\nalica\nbob\npatrik\nstive\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Параметр <code>-r</code> сортирует в обратном порядке</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>user@debian-server:~/test$ <span class="token function">cat</span> lines.txt <span class="token operator">|</span> <span class="token function">sort</span> -r\nstive\npatrik\nbob\nalica\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Параметр <code>-n</code> заставляет <code>sort</code> правильно сортировать цифры.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>user@debian-server:~/test$ <span class="token function">cat</span> numbers.txt \n<span class="token number">20</span>\n<span class="token number">4</span>\n<span class="token number">1</span>\n<span class="token number">100</span>\n<span class="token number">15</span>\n<span class="token number">33</span>\nuser@debian-server:~/test$ <span class="token function">cat</span> numbers.txt <span class="token operator">|</span> <span class="token function">sort</span>\n<span class="token number">1</span>\n<span class="token number">100</span>\n<span class="token number">15</span>\n<span class="token number">20</span>\n<span class="token number">33</span>\n<span class="token number">4</span>\nuser@debian-server:~/test$ <span class="token function">cat</span> numbers.txt <span class="token operator">|</span> <span class="token function">sort</span> -n\n<span class="token number">1</span>\n<span class="token number">4</span>\n<span class="token number">15</span>\n<span class="token number">20</span>\n<span class="token number">33</span>\n<span class="token number">100</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h2 id="uniq" tabindex="-1"><a class="header-anchor" href="#uniq" aria-hidden="true">#</a> uniq</h2><p>Команда <code>uniq</code> возвращает только уникальные строки из входящего потока, но она распознает одинаковые строки только если ни идут друг за другом. Поэтому перед уникализацей строки нужно отсортировать.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>user@debian-server:~/test$ <span class="token function">cat</span> names.txt \nbob\nalica\nbob\nstive\npatrik\nalica\nalica\nuser@debian-server:~/test$ <span class="token function">cat</span> names.txt <span class="token operator">|</span> <span class="token function">uniq</span>\nbob\nalica\nbob\nstive\npatrik\nalica\nuser@debian-server:~/test$ <span class="token function">cat</span> names.txt <span class="token operator">|</span> <span class="token function">sort</span> <span class="token operator">|</span> <span class="token function">uniq</span>\nalica\nbob\npatrik\nstive\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>Можно вывести только строки которые встречались один раз.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>user@debian-server:~/test$ <span class="token function">cat</span> names.txt <span class="token operator">|</span> <span class="token function">sort</span> <span class="token operator">|</span> <span class="token function">uniq</span> -u\npatrik\nstive\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Или добавить в вывод количество повторений</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>user@debian-server:~/test$ <span class="token function">cat</span> names.txt <span class="token operator">|</span> <span class="token function">sort</span> <span class="token operator">|</span> <span class="token function">uniq</span> -c\n      <span class="token number">3</span> alica\n      <span class="token number">2</span> bob\n      <span class="token number">1</span> patrik\n      <span class="token number">1</span> stive\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Вывести только уникальные строки можно и командой <code>sort</code> с параметром <code>-u</code>.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>user@debian-server:~/test$ <span class="token function">cat</span> names.txt <span class="token operator">|</span> <span class="token function">sort</span> -u\nalica\nbob\npatrik\nstive\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>',16),u={render:function(n,s){const a=(0,e.up)("RouterLink");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e._)("h1",p,[l,(0,e.Uk)(" "+(0,r.zw)(n.$frontmatter.title),1)]),(0,e._)("nav",t,[(0,e._)("ul",null,[(0,e._)("li",null,[(0,e.Wm)(a,{to:"#sort"},{default:(0,e.w5)((()=>[c])),_:1})]),(0,e._)("li",null,[(0,e.Wm)(a,{to:"#uniq"},{default:(0,e.w5)((()=>[i])),_:1})])])]),b],64)}}}}]);