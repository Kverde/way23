"use strict";(self.webpackChunkway23=self.webpackChunkway23||[]).push([[5628],{26775:(n,s,e)=>{e.r(s),e.d(s,{data:()=>a});const a={key:"v-216eca72",path:"/linux-tar-zip.html",title:"Создание и сжатие архивов в Linux: tar и gzip",lang:"ru-RU",frontmatter:{title:"Создание и сжатие архивов в Linux: tar и gzip",date:"2023-11-16",categories:["Linux"],tags:["tar","gzip"]},excerpt:"",headers:[{level:2,title:"Ссылки",slug:"ссылки",children:[]}],filePathRelative:"linux-tar-zip.md",git:{updatedTime:170128106e4}}},85870:(n,s,e)=>{e.r(s),e.d(s,{default:()=>b});var a=e(66252),r=e(3577);const t={id:"frontmatter-title",tabindex:"-1"},l=(0,a._)("a",{class:"header-anchor",href:"#frontmatter-title","aria-hidden":"true"},"#",-1),p=(0,a.uE)('<p>Tar — программа для соединения нескольких файлов в один архив. Первым параметром tar принимает команду, а затем идут остальные параметры.</p><p>Для создания архива используется команда <code>--create</code> или <code>-c</code>:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>user01@debian-server:~$ <span class="token function">tar</span> -c -f backup.tar file1.txt file2.txt \nuser01@debian-server:~$ <span class="token function">ls</span>\nbackup.tar  file1.txt  file2.txt\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>За параметром <code>-f</code> следует название файла-архива, который сделает tar. Затем идет список файлов который нужно включить в архив. В архив можно включать как отдельные файлы, так и каталоги с файлами.</p><p>Для просмотра списка файлов в архиве используется команда <code>--list</code> или <code>-t</code>, так же с опцией <code>-f</code> и именем архива.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>user01@debian-server:~$ <span class="token function">tar</span> -t -f backup.tar \nfile1.txt\nfile2.txt\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>В архиве сохраняются права на файлы, владелец файла и группа файла, всё это можно посмотреть опцией <code>--verbose</code> или <code>-v</code>:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>user01@debian-server:~$ <span class="token function">tar</span> -tv -f backup.tar \n-rw-r--r-- user01/user01     <span class="token number">5</span> <span class="token number">2023</span>-11-16 07:46 file1.txt\n-rw-r--r-- user01/user01    <span class="token number">10</span> <span class="token number">2023</span>-11-16 07:46 file2.txt\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Для распаковки архива используется команда <code>--extract</code> или <code>-x</code>, архив распаковывается в текущую директорию.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>user01@debian-server:~$ <span class="token function">rm</span> file1.txt file2.txt \nuser01@debian-server:~$ <span class="token function">ls</span>\nbackup.tar\nuser01@debian-server:~$ <span class="token function">tar</span> -x -f backup.tar \nuser01@debian-server:~$ <span class="token function">ls</span>\nbackup.tar  file1.txt  file2.txt\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Tar содержит опции для сжатия файлов в архиве, или можно воспользоваться отдельной программой.</p><p>Программа gzip позволяет уменьшить размер файлов, сжимая их. По умолчанию gzip берет данные из <code>stdin</code> и передаёт их в сжатом виде в <code>stdout</code>. Для распаковки файла используется опция <code>-d</code>.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>user01@debian-server:~$ <span class="token function">cat</span> file1.txt \ntext\nuser01@debian-server:~$ <span class="token function">cat</span> file1.txt <span class="token operator">|</span> <span class="token function">gzip</span> <span class="token operator">&gt;</span> ar.gz\nuser01@debian-server:~$ <span class="token function">cat</span> ar.gz <span class="token operator">|</span> <span class="token function">gzip</span> -d\ntext\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Через перенаправление потоков ввода и вывода можно объединить tar и gzip для сжатия архива:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>user01@debian-server:~$ <span class="token function">cat</span> file1.txt \ntext\nuser01@debian-server:~$ <span class="token function">tar</span> -c file1.txt file2.txt <span class="token operator">|</span> <span class="token function">gzip</span> <span class="token operator">&gt;</span> files.tar.gz\nuser01@debian-server:~$ <span class="token function">rm</span> file1.txt file2.txt \nuser01@debian-server:~$ <span class="token function">ls</span>\nfiles.tar.gz\nuser01@debian-server:~$ <span class="token function">cat</span> files.tar.gz <span class="token operator">|</span> <span class="token function">gzip</span> -d <span class="token operator">|</span> <span class="token function">tar</span> -x\nuser01@debian-server:~$ <span class="token function">ls</span>\nfile1.txt  file2.txt  files.tar.gz\nuser01@debian-server:~$ <span class="token function">cat</span> file1.txt \ntext\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="ссылки" tabindex="-1"><a class="header-anchor" href="#ссылки" aria-hidden="true">#</a> Ссылки</h2>',16),i={href:"https://www.gnu.org/software/tar/manual/tar.html",target:"_blank",rel:"noopener noreferrer"},c=(0,a.Uk)("GNU tar: an archiver tool"),o={href:"https://www.gnu.org/software/gzip/manual/gzip.html",target:"_blank",rel:"noopener noreferrer"},u=(0,a.Uk)("GNU Gzip: General file (de)compression"),b={render:function(n,s){const e=(0,a.up)("OutboundLink");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("h1",t,[l,(0,a.Uk)(" "+(0,r.zw)(n.$frontmatter.title),1)]),p,(0,a._)("ul",null,[(0,a._)("li",null,[(0,a._)("a",i,[c,(0,a.Wm)(e)])]),(0,a._)("li",null,[(0,a._)("a",o,[u,(0,a.Wm)(e)])])])],64)}}}}]);