"use strict";(self.webpackChunkway23=self.webpackChunkway23||[]).push([[4214],{11667:(n,a,s)=>{s.r(a),s.d(a,{data:()=>e});const e={key:"v-2cbc0e95",path:"/vagrant02-work.html",title:"Vagrant 2: запуск проекта внутри Vagrant",lang:"ru-RU",frontmatter:{title:"Vagrant 2: запуск проекта внутри Vagrant",date:"2023-11-23",categories:["Программы"],tags:["Vagrant"]},excerpt:"",headers:[],filePathRelative:"vagrant02-work.md",git:{updatedTime:1700758907e3}}},98675:(n,a,s)=>{s.r(a),s.d(a,{default:()=>u});var e=s(66252),t=s(3577);const p={id:"frontmatter-title",tabindex:"-1"},o=(0,e._)("a",{class:"header-anchor",href:"#frontmatter-title","aria-hidden":"true"},"#",-1),r=(0,e.Uk)("После установки Vagrant"),c=(0,e.Uk)(", для удобной работы, Vagrant файл следует дополнительно настроить."),l=(0,e.uE)('<p>Чтобы проект был доступен вне виртуальный машины нужно пробросить порт из виртуальной машины на порт хоста. Строка ниже делает порт <code>80</code> виртуальной машины на хосте по адресу <code>127.0.0.1:5555</code>.</p><div class="language-ruby ext-rb line-numbers-mode"><pre class="language-ruby"><code>  config<span class="token punctuation">.</span>vm<span class="token punctuation">.</span>network <span class="token string">&quot;forwarded_port&quot;</span><span class="token punctuation">,</span> guest<span class="token punctuation">:</span> <span class="token number">80</span><span class="token punctuation">,</span> host<span class="token punctuation">:</span> <span class="token number">5555</span><span class="token punctuation">,</span> host_ip<span class="token punctuation">:</span> <span class="token string">&quot;127.0.0.1&quot;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Для того, чтобы в виртуальной машине был сразу установлен Docker, добавьте команду</p><div class="language-ruby ext-rb line-numbers-mode"><pre class="language-ruby"><code>  config<span class="token punctuation">.</span>vm<span class="token punctuation">.</span>provision <span class="token symbol">:docker</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>Чтобы пробросить в виртуальную машину код приложения добавьте команду</p><div class="language-ruby ext-rb line-numbers-mode"><pre class="language-ruby"><code>  config<span class="token punctuation">.</span>vm<span class="token punctuation">.</span>synced_folder <span class="token string">&quot;./host_path&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/vm_path&quot;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>В виртуальную машину можно отправить команду, например, для запуска приложения.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>\tvagrant <span class="token function">ssh</span> -c <span class="token string">&#39;docker compose -f /path/docker-compose.yml up -d --build&#39;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div>',8),u={render:function(n,a){const s=(0,e.up)("RouterLink");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e._)("h1",p,[o,(0,e.Uk)(" "+(0,t.zw)(n.$frontmatter.title),1)]),(0,e._)("p",null,[(0,e.Wm)(s,{to:"/vagrant01-install.html"},{default:(0,e.w5)((()=>[r])),_:1}),c]),l],64)}}}}]);