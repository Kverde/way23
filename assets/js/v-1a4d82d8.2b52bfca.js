"use strict";(self.webpackChunkway23=self.webpackChunkway23||[]).push([[9133],{98097:(n,s,e)=>{e.r(s),e.d(s,{data:()=>a});const a={key:"v-1a4d82d8",path:"/db-redis.html",title:"Базы данных: Redis",lang:"ru-RU",frontmatter:{title:"Базы данных: Redis",date:"2024-12-14",categories:["Базы данных"],tags:["Redis","Ключ-значение"]},excerpt:"",headers:[{level:2,title:"Запуск",slug:"запуск",children:[]},{level:2,title:"Redis-cli",slug:"redis-cli",children:[]},{level:2,title:"Команды Redis",slug:"команды-redis",children:[]},{level:2,title:"Пример на Python",slug:"пример-на-python",children:[]}],filePathRelative:"db-redis.md",git:{updatedTime:1735583365e3}}},97974:(n,s,e)=>{e.r(s),e.d(s,{default:()=>q});var a=e(66252),l=e(3577);const r={id:"frontmatter-title",tabindex:"-1"},t=(0,a._)("a",{class:"header-anchor",href:"#frontmatter-title","aria-hidden":"true"},"#",-1),p={href:"https://redis.io",target:"_blank",rel:"noopener noreferrer"},i=(0,a.Uk)("Redis"),o=(0,a.Uk)(" — резидентная (находящаяся всегда в оперативной памяти) база данных типа «ключ — значение». Принцип работы: ключ (строка) связывает с данными определённого типа. Значения привязанное к ключу можно запросить, изменить или удалить. Redis часто используется для кеширования."),c=(0,a.uE)('<p>Redis поддерживает несколько типов данных, некоторые из них:</p><ul><li><code>String</code> — основной тип данных, последовательность байт. Может содержать строки, числа, HTML или JSON.</li><li><code>List</code> — упорядоченная коллекция;</li><li><code>Set</code> — неупорядоченная уникальная коллекция;</li><li><code>Hash</code> — словарь, коллекция объектов ключ-значение.</li></ul><p>Кроме встроенных типов данных есть возможность подключения расширений с другими типами данных.</p><h2 id="запуск" tabindex="-1"><a class="header-anchor" href="#запуск" aria-hidden="true">#</a> Запуск</h2><p>Запустить Redis проще всего через docker.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker run --name my-redis -p 6379:6379 -d redis\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="redis-cli" tabindex="-1"><a class="header-anchor" href="#redis-cli" aria-hidden="true">#</a> Redis-cli</h2><p>Redis-cli — консольная утилита для подключения к Redis и выполнения команд. Если Redis запущена через docker то запускается redis-cli следующей командой:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>docker exec -it my-redis redis-cli\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="команды-redis" tabindex="-1"><a class="header-anchor" href="#команды-redis" aria-hidden="true">#</a> Команды Redis</h2>',10),u=(0,a.Uk)("Для работы с каждом типом данных Redis предоставляет определённый "),d={href:"https://redis.io/docs/latest/commands/",target:"_blank",rel:"noopener noreferrer"},b=(0,a.Uk)("набор команд"),m=(0,a.Uk)("."),g=(0,a.uE)('<p>Примеры команд:</p><ul><li><code>Strings</code>: <ul><li><code>SET</code>: Связывает ключ со значением</li><li><code>GET</code>: Возвращает значение по ключу</li><li><code>INCR</code>/<code>DECR</code>: Интерпретирует значение как число и увеличивает/уменьшает число на единицу</li></ul></li><li><code>Lists</code>: <ul><li><code>LPUSH</code>/<code>RPUSH</code>: Добавляет одно или несколько значений к ключу</li><li><code>LRANGE</code>: Возвращает диапазон элементов из списка</li><li><code>LPOP</code>/<code>RPOP</code>: Удаляет и возвращает первый или последний элемент списка</li></ul></li></ul><p>Примеры использования команд через <code>redis-cli</code>:</p><div class="language-redis ext-redis line-numbers-mode"><pre class="language-redis"><code>127.0.0.1:6379&gt; set fruit mango\nOK\n127.0.0.1:6379&gt; get fruit\n&quot;mango&quot;\n127.0.0.1:6379&gt; set n 4\nOK\n127.0.0.1:6379&gt; incr n\n(integer) 5\n127.0.0.1:6379&gt; get n\n&quot;5&quot;\n127.0.0.1:6379&gt; \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language-redis ext-redis line-numbers-mode"><pre class="language-redis"><code>127.0.0.1:6379&gt; lpush people bob\n(integer) 1\n127.0.0.1:6379&gt; lpush people john\n(integer) 2\n127.0.0.1:6379&gt; lrange people 0 1\n1) &quot;john&quot;\n2) &quot;bob&quot;\n127.0.0.1:6379&gt; rpush people marta\n(integer) 3\n127.0.0.1:6379&gt; lrange people 0 2\n1) &quot;john&quot;\n2) &quot;bob&quot;\n3) &quot;marta&quot;\n127.0.0.1:6379&gt; lpop people\n&quot;john&quot;\n127.0.0.1:6379&gt; lrange people 0 1\n1) &quot;bob&quot;\n2) &quot;marta&quot;\n127.0.0.1:6379&gt; \n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="пример-на-python" tabindex="-1"><a class="header-anchor" href="#пример-на-python" aria-hidden="true">#</a> Пример на Python</h2>',6),h=(0,a.Uk)("Пример использования библиотеки "),k={href:"https://github.com/redis/redis-py",target:"_blank",rel:"noopener noreferrer"},v=(0,a.Uk)("redis-py"),R=(0,a.Uk)(":"),f=(0,a.uE)('<div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> redis\n\nr <span class="token operator">=</span> redis<span class="token punctuation">.</span>Redis<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">&#39;redis-host&#39;</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">6379</span><span class="token punctuation">,</span> decode_responses<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>\n\nr<span class="token punctuation">.</span><span class="token builtin">set</span><span class="token punctuation">(</span><span class="token string">&#39;counter&#39;</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>\nr<span class="token punctuation">.</span>incr<span class="token punctuation">(</span><span class="token string">&#39;counter&#39;</span><span class="token punctuation">)</span>\nr<span class="token punctuation">.</span>incr<span class="token punctuation">(</span><span class="token string">&#39;counter&#39;</span><span class="token punctuation">)</span>\ncounter <span class="token operator">=</span> r<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&#39;counter&#39;</span><span class="token punctuation">)</span>\n<span class="token keyword">print</span><span class="token punctuation">(</span>counter<span class="token punctuation">)</span> <span class="token comment"># 102</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div>',1),q={render:function(n,s){const e=(0,a.up)("OutboundLink");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("h1",r,[t,(0,a.Uk)(" "+(0,l.zw)(n.$frontmatter.title),1)]),(0,a._)("p",null,[(0,a._)("a",p,[i,(0,a.Wm)(e)]),o]),c,(0,a._)("p",null,[u,(0,a._)("a",d,[b,(0,a.Wm)(e)]),m]),g,(0,a._)("p",null,[h,(0,a._)("a",k,[v,(0,a.Wm)(e)]),R]),f],64)}}}}]);