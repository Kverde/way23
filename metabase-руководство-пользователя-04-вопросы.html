<!DOCTYPE html>
<html lang="ru-RU">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.24">
    <meta name="theme-color" content="#ffffff"><meta name="yandex-verification" content="bbf10c47bf8b55fb"><link rel="icon" href="/assets/favicons/favicon.svg"><link rel="mask-icon" href="/assets/favicons/mask-icon.svg" color="red"><link rel="apple-touch-icon" href="/assets/favicons/apple-touch-icon.png"><link rel="manifest" href="manifest.json"><script>
	    var __rm__config = {
        projectId: '-Mibn7-xoaevC6Q4qq9f',
        locale: 'ru',
        contextWidget: 0,
        embedBtn: 0,
        floatingBtn: 1,
        floatingBtnPosition: 'left',
        floatingBtnStyle: 'light',
			};
    </script><script src="https://widget.revisionme.com/app.js" defer="defer" id="rm_app_script"></script><title>Metabase. Руководство пользователя 04. Вопросы в Metabase | Way23</title><meta name="description" content="Блог о программировании">
    <link rel="preload" href="/assets/js/runtime~app.25176522.js" as="script"><link rel="preload" href="/assets/css/styles.1005c642.css" as="style"><link rel="preload" href="/assets/js/1812.ebb0a1a7.js" as="script"><link rel="preload" href="/assets/js/app.b6198e79.js" as="script">
    <link rel="stylesheet" href="/assets/css/styles.1005c642.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container no-sidebar"><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name">Way23</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a href="/" class="nav-link" aria-label="Главная"><!--[--><!--]--> Главная <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/categories.md" class="nav-link" aria-label="По категориям"><!--[--><!--]--> По категориям <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/contacts.md" class="nav-link" aria-label="Контакты"><!--[--><!--]--> Контакты <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><div class="sidebar-mask"></div><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/" class="nav-link" aria-label="Главная"><!--[--><!--]--> Главная <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/categories.md" class="nav-link" aria-label="По категориям"><!--[--><!--]--> По категориям <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/contacts.md" class="nav-link" aria-label="Контакты"><!--[--><!--]--> Контакты <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--]--></ul><!--[--><!--]--></aside><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="frontmatter-title" tabindex="-1"><a class="header-anchor" href="#frontmatter-title" aria-hidden="true">#</a> Metabase. Руководство пользователя 04. Вопросы в Metabase</h1><p>Перевод страницы документации Metabase <a href="https://metabase.com/docs/v0.33.0/users-guide/04-asking-questions.html" target="_blank" rel="noopener noreferrer">Asking questions in Metabase<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>.</p><p>Вопросы и соответствующие им ответы — это две корневые концепции Metabase. Остальное базируется вокруг вопросов и ответов. Чтобы задать вопрос нажмите кнопку <strong>Ask a Question</strong> в верху экрана.</p><h2 id="способы-начать-новыи-вопрос" tabindex="-1"><a class="header-anchor" href="#способы-начать-новыи-вопрос" aria-hidden="true">#</a> Способы начать новый вопрос</h2><p><img src="images/metabase_ug04_01_new-question.png" alt="Выбор вопроса Metabase"></p><p>После нажатия кнопки <strong>Ask a Question</strong> откроются три способа задать вопрос:</p><ol><li>Простой режим вопросов, который позволяет фильтровать, суммировать и визуализировать данные.</li><li><a href="https://metabase.com/docs/v0.33.0/users-guide/custom-questions.html" target="_blank" rel="noopener noreferrer">Расширенные режим<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>, мощный редактор для создания более сложных вопросов которые требуют соединений, нескольких этапов фильтрации и агрегирования, или пользовательских колонок.</li><li><a href="https://metabase.com/docs/v0.33.0/users-guide/writing-sql.html" target="_blank" rel="noopener noreferrer">Редактор SQL запросов<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>.</li></ol><p>Эта страница описывает простой режим.</p><h2 id="задаем-простои-вопрос" tabindex="-1"><a class="header-anchor" href="#задаем-простои-вопрос" aria-hidden="true">#</a> Задаём простой вопрос</h2><p>После выбора <strong>Simple Question</strong> выберите базу данных и отобразится список её таблиц. Выберите таблицу для задания вопроса. Это может быть таблица <code>Users</code> или что-то вроде <code>Events</code>, <code>Orders</code> или <code>Downloads</code>.</p><p>При задании вопроса обычно используются фильтрация и суммирование.</p><h2 id="фильтрация" tabindex="-1"><a class="header-anchor" href="#фильтрация" aria-hidden="true">#</a> Фильтрация</h2><p>Фильтрация означает уменьшение количества вещей по определённым критериям.</p><p>Нажмите кнопку <strong>Filter</strong> в правом верхнем углу экрана для открытия панели фильтрации. Появится список столбцов таблицы. В зависимости от типа выбранной колонки появятся различный набор параметров фильтрации:</p><ul><li>Фильтр по числовому столбцу позволит выбрать строки в которых число больше, меньше или равно заданному значению, или находится между двумя выбранными значениями.</li><li>Фильтр по столбцу с текстом позволяет выбрать или исключить строки содержащие определённые значения.</li><li>Фильтр по столбцу с датой позволит выбрать диапазон или дни до или после определённой даты.</li></ul><p>В фильтрах используются конкретные и относительные даты:</p><ul><li>Конкретные даты, такие как 1 ноября 2010, ссылаются на определённую дату.</li><li>Относительные даты, такие как &quot;последние 30 дней&quot; или &quot;текущая неделя&quot;, меняются с течением времени. Относительные даты полезны чтобы даты в вопросе были всегда актуальными, например, в вопросе &quot;сколько пользователей посещали ваш сайт за последние 7 дней?&quot;</li></ul><h2 id="фильтрация-по-сегментам" tabindex="-1"><a class="header-anchor" href="#фильтрация-по-сегментам" aria-hidden="true">#</a> Фильтрация по сегментам</h2><p>Добавленные администратором Metabase именованные фильтры для таблицы появятся над выпадающим списком фильтров в виде фиолетового текста. Они называются &quot;сегменты&quot; и являются ссылками на сочетание фильтров которые часто используются в вашей организации. Они могут назваться &quot;Активные пользователи&quot; или &quot;Самые популярные продукты&quot;.</p><p>Как только вы будете довольны фильтром нажмите <strong>Done</strong>, и данные обновятся с учётом фильтра. Если вы хотите изменить фильтр, нажмите маленький фиолетовый значок вверху экрана. Если вы нажмёте <strong>X</strong>, вы удалите фильтр. Вы можете добавить столько фильтров, сколько нужно.</p><p><img src="images/metabase_ug04_02_filter-badge.png" alt="Фильтрация Metabase"></p><h2 id="суммирование" tabindex="-1"><a class="header-anchor" href="#суммирование" aria-hidden="true">#</a> Суммирование</h2><p>Когда у нас есть вопрос &quot;Сколько пользователей скачивали приложение каждый день на этой неделе?&quot; или &quot;Какой средний возраст клиентов кто посещает каждый из магазинов на этой неделе?&quot; нам нужно просуммировать данные. Суммирование состоит из двух частей: одно или больше чисел которые нас волнуют (они называются метрики) и того как мы хотим группировать эти числа. Например:</p><ul><li>Метрика — &quot;сколько людей скачали приложение&quot;</li><li>метрика группируется по дням — &quot;каждый день&quot;</li><li>и применён фильтр — &quot;на этой неделе&quot;</li></ul><p>Есть два распространённых способа суммировать ваши данные:</p><ul><li>Подсчёт количества строк в вашей таблице</li><li>Получение суммы или среднего значения числовой колонки</li></ul><p>Полученное число затем группируется по</p><ul><li>Времени</li><li>Месту</li><li>Другой категории: операционной системе, полу и т.д.</li></ul><p>Чтобы сделать это в Metabase, нажмите колонку <strong>Summarize</strong> справа вверху экрана и откроется боковая панель.</p><p><img src="images/metabase_ug04_03_summarize-sidebar.png" alt="Итоги Metabase"></p><h2 id="выбор-метрик" tabindex="-1"><a class="header-anchor" href="#выбор-метрик" aria-hidden="true">#</a> Выбор метрик</h2><p>Боковая панель имеет две основные части: верхнюю где вы выбираете число (метрику) которую хотите видеть и часть ниже где вы выбираете как группировать это число.</p><p>По умолчанию выбрана метрика <strong>“count of rows</strong> (подсчёт строк) так как она очень распространена, но вы можете изменить её нажав на неё. Вы также можете выбрать более одной метрики: просто нажмите кнопку <strong>add a metric</strong>. Вы можете удалить выбранную метрику нажатием на иконку <strong>X</strong>. Основные метрики это:</p><p><strong>Sum of …</strong>: сумма всех значений в определённой колонке.</p><p><strong>Average of …</strong>: среднее значение в определённой колонке.</p><p><strong>Number of distinct values of…</strong>: число уникальных значений в колонке. Это полезно, например, для того чтобы определить сколько разных видов продуктов были проданы в прошлом месяце (не сколько продано всего).</p><p><strong>Cumulative sum of…</strong>: Промежуточный итог в определённой колонке. Например, вам нужно группировать суммы по дате и смотреть как они растут по времени.</p><p><strong>Cumulative count of rows</strong>: промежуточный итог количества строк в таблице распределённый по времени.</p><p><strong>Standard deviation of …</strong>: число которое определяет насколько значения в колонке отклоняются от среднего значения в этой колонке.</p><p><strong>Minimum of …</strong>: наименьшее значение в колонке.</p><p><strong>Maximum of …</strong>: наибольшее значение в колонке.</p><p>Если администратор создал именованные метрики то они будут в выпадающем списке под общими метриками.</p><h2 id="выбор-группы-для-метрик" tabindex="-1"><a class="header-anchor" href="#выбор-группы-для-метрик" aria-hidden="true">#</a> Выбор группы для метрик</h2><p>В зависимости от выбранных для группировки колонок, Metabase по умолчанию покажет наиболее подходящий способ визуализации. Если вы выберете колонку с датой, вы увидите линейный график как этот:</p><p><img src="images/metabase_ug04_04_summarize-timeseries.png" alt="Линейный график Metabase"></p><p>Когда вы нажимаете на отличную от текущей колонку группировки, группировка переключается на неё. Если вы хотите добавить дополнительную группировку нажмите на иконку плюса (+) на правой стороне колонки. Для удаления группировки нажмите иконку <strong>Х</strong>.</p><p><img src="images/metabase_ug04_05_summarize-timeseries-breakout.png" alt="Несколько метрик Metabase"></p><p>Некоторые столбцы группировки предоставляют возможность выбирать дополнительные опции. Если для группировки выбрана колонка с датой вы можете нажать на слова <strong>by month</strong> для установки группировки по дням, неделям, часам, годам и т.д. Если вы группируете по числовой колонке, такой как возраст, Metabase автоматически разложит значения по группам, таким как 0–10, 11–20, 21–30 и т.д. Так же как и с датами доступны дополнительные опции группировки.</p><p><img src="images/metabase_ug04_06_histogram-bins.png" alt="Гистограмма Metabase"></p><p>Как только настройки метрик и группировки закончены, нажмите <strong>Done</strong> для закрытия панели <strong>Summarize</strong> и вы увидите результаты.</p><h2 id="просмотр-деталеи-отдельнои-записи" tabindex="-1"><a class="header-anchor" href="#просмотр-деталеи-отдельнои-записи" aria-hidden="true">#</a> Просмотр деталей отдельной записи</h2><p>Нажмите на идентификатор записи (или первичный ключ) для того чтобы посмотреть больше информации о пользователе, заказе и т.д. Вы можете увидеть все поля соответствующие одной записи и все связанные таблицы которые скрыты в табличном представлении для большей читаемости. Нажмите левую или правую стрелку или нажмите на правую или левую часть экрана чтобы пролистать на другие записи в текущем списке.</p><p><img src="images/metabase_ug04_07_record-details.png" alt="Детализация записи Metabase"></p><h2 id="скачаите-результаты" tabindex="-1"><a class="header-anchor" href="#скачаите-результаты" aria-hidden="true">#</a> Скачайте результаты</h2><p>Нажмите на кнопку <strong>Download</strong>, в правом нижнем углу экрана, чтобы экспортировать результаты. Доступные форматы экспорта: .csv, .xlsx, .json. Максимальный размер экспорта — 1 миллион строк.</p><p><img src="images/metabase_ug04_08_download-button.png" alt=""></p><h2 id="далее-создание-пользовательских-вопросов" tabindex="-1"><a class="header-anchor" href="#далее-создание-пользовательских-вопросов" aria-hidden="true">#</a> Далее: создание пользовательских вопросов</h2><p>Если ваш вопрос более сложный и специфичный используйте мощный редактор пользовательских вопросов.</p><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Последниее изменение: </span><span class="meta-item-info">24.08.2023, 06:42:55</span></div><!----></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script src="/assets/js/runtime~app.25176522.js" defer></script><script src="/assets/js/1812.ebb0a1a7.js" defer></script><script src="/assets/js/app.b6198e79.js" defer></script>
  </body>
</html>
