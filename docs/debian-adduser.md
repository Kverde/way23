---
title: "Добавление пользователей в Debian"
date: "2023-11-06"
categories:
  - "Linux"
tags:
  - "adduser"
  - "chfn"
---

# {{ $frontmatter.title }}

Для добавления пользователей в Debian используется команда `adduser`. Обязательный аргумент — имя пользователя.

Список пользователей находится в файле `/etc/passwd` (`man 5 passwd`). Каждая строка соответствует одному пользователю. Значения параметров разделены символом `:`. Список параметров:

1. Имя пользователя
2. Хеш пароля
3. Идентификатор пользователя (UID)
4. Идентификатор группы пользователя
5. Информация о пользователе
6. Домашняя директория пользователя
7. Оболочка пользователя

Пример строки в файле `/etc/passwd`:

```
user01:x:1001:1001:user01,,,:/home/user01:/bin/bash
```

Поле `Информация о пользователе` содержит реальное имя пользователя, телефон и подобные данные. Изменить эту информацию можно командой `chfn`.

По умолчанию, домашние каталоги пользователей находятся внутри каталога `/home`. Если в поле `Оболочка пользователя` стоит значение `nologin`, то пользователю запрещён вход в систему.

Если хеш пароля содержит только один символ `x`, то хеш пароля находится в другом файле `/etc/shadow`. Этот файл, так же как `passwd` в каждой строчке хранит данные одного пользователя, значения разделяются символом `:`. Первые поля в этом списке:

* Имя пользователя
* Хеш пароля
* Дата последнего изменения пароля

Остальные поля определяют функции связанные с изменением пароля. Пример строки из файле `shadow`:

```
user01:$y$j9T$Pw/zwOjbUl10vVwXJHGnt/$lJ8.dfAdkQXfzXrQg6Pv5TYKdjgYwpugwR0EF86i0C/:19667:0:99999:7:::
```

Настройки по умолчанию нового пользователя можно переопределить в файле `/etc/adduser.conf`.