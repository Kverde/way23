---
title: "Использование SQL в Metabase"
date: "2019-09-13"
categories: 
  - "Программы"
tags: 
  - "перевод"
  - "metabase"
---

# {{ $frontmatter.title }}

Перевод страницы документации Metabase [Asking more advanced questions in the SQL/native query editor](https://metabase.com/docs/v0.33.0/users-guide/writing-sql.html)

Для сложных вопросов, невыразимых стандартными методами, используйте SQL.

## Что такое SQL?

SQL — это язык запросов к базам данных. Это руководство не учебник SQL, для обучения используйте [подходящие материалы](http://www.sql-tutorial.ru/).

Даже если вы не разбираетесь в SQL, знания о работе с SQL-вопросами в Metabase полезны, так как другие пользователи могут поделится с вами SQL-вопросами.

## Новый SQL-запрос

После нажатия кнопки **Ask a Question** открывается редактор SQL-вопроса.

![SQL запросы в Metabase](images/Metabase_ws_01_SQLInterface.png)

Чтобы попробовать, введите команду `select sum(subtotal), created_at from orders group by created_at`. Не беспокойтесь если не понимаете её полностью. Нажмите синюю кнопку запуска и посмотрите на таблицу, такую же как если бы вы задали вопрос о сумме колонки `Subtotal` в таблице `Orders`, сгруппированной по колонке `Created At`.

Запрос также запускается нажатием клавиш `ctrl + enter`. Выделенная часть запроса запускается нажатием `ctrl + alt + enter`.

SQL-вопросы как и обычные вопросы сохраняются и добавляются на дашборды.

## Фильтры SQL

Если в SQL-запрос добавить переменные, то вопрос будет иметь поля для фильтрации в заголовке. Переменные применяются для фильтрации результатов без изменения запроса.

![Фильтры SQL в Metabase](images/Metabase_ws_02_SQL-filter-widget.png)

Работа с переменными в SQL-вопросах описана на [отдельной странице](https://metabase.com/docs/v0.33.0/users-guide/13-sql-parameters.html).
