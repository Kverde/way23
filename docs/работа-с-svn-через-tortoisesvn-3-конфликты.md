---
title: "Работа с SVN через TortoiseSVN. 3. Конфликты"
date: "2017-01-20"
categories: 
  - "Системы контроля версий (VCS)"
tags: 
  - "svn"
  - "tortoisesvn"
---

# {{ $frontmatter.title }}

В [предыдущей части](http://way23.ru/%d1%80%d0%b0%d0%b1%d0%be%d1%82%d0%b0-%d1%81-svn-%d1%87%d0%b5%d1%80%d0%b5%d0%b7-tortoisesvn-2-%d0%bf%d1%80%d0%be%d1%81%d0%bc%d0%be%d1%82%d1%80-%d0%b8%d0%b7%d0%bc%d0%b5%d0%bd%d0%b5%d0%bd%d0%b8%d0%b9/) был рассмотрен случай когда слияние изменений Пети и Васи произошло автоматически. Сейчас рассмотрим ситуацию когда Вася и Петя делают одновременно изменения которые SVN не может слить автоматически.

Вася посчитал что приветствие нужно выводить для него тоже и использует для этого недавно добавленную функцию. Он вносит изменения в файл и фиксирует.

def hello(name):
    if name == None:
        print('hello!')
    else:
        print('hello ' + name + '!')

def hello2(name1, name2):
    hello(name1)
    hello(name2)    

hello2('Petya', 'Vasya')

![Диалог фиксации TortoiseSVN](images/tortoisesvn_25.png)

Одновременно с этим Петя тоже вспомнил что нужно бы добавить приветствие для Васи. Об обновлении он забыл и отредактировал старую версию файла.

def hello(name):
    if name == None:
        print('hello!')
    else:
        print('hello ' + name + '!')

hello('Petya and Vasya')
print('Bye!')

![Диалог фиксации TortoiseSVN](images/tortoisesvn_26.png)

Как и ожидалось, сообщение о том что файл был изменен и Петя редактировал старую версию.

![Сообщение о неудачной фиксации](images/tortoisesvn_27.png)

Петя нажимает ОК, и выбирает Обновить

![Диалог Обновить или отменить?](images/tortoisesvn_28.png)

В этот раз слияние не удалось, ведь Петя редактировал туже самую строку изменения в которой зафиксировал недавно Вася.

![Сообщение о конфликте при фиксации](images/tortoisesvn_29.png)

После нажатия ОК снова появляется окно фиксации. Только файл в котором возник конфликт изменений выделен красным цветом.

![Диалог фиксации при возникновении конфликта](images/tortoisesvn_30.png)

Теперь чтобы зафиксировать нужно разрешить конфликт. Петя делает двойной клик на файле и открывается редактор конфликтов.

![Окно TortoiseMerge во время редактирования конфликта](images/tortoisesvn_31.png)

Петя замечает что в репозиторий уже было добавлено приветствие для Васи с помощью отдельной функции и решает оставить этот вариант вместо своего. Петя нажимает _Использовать этот текстовый блок_ на строке из репозитория

![Контекстное меню TrtoiseMerge](images/tortoisesvn_32.png)

![Результирующий файл в TortoiseMerge](images/tortoisesvn_33.png)

Кроме приветствия Петя добавил в код еще одну строку. Её тоже нужно поместить в результирующий файл ![Контекстное меню TrtoiseMerge](images/tortoisesvn_34.png)

![Результирующий файл в TortoiseMerge](images/tortoisesvn_35.png)

Больше конфликтов в файле нет. Петя отмечает что конфликты улажены и закрывает файл.

![Кнопка Пометить как улаженный](images/tortoisesvn_36.png)

В окне фиксации файл перестал выделятся красным - в нем больше нет конфликтов.

![Диалог фиксации TortoiseSVN после улаживания конфликта](images/tortoisesvn_37.png)

Петя изменяет комментарий, отмечает файл и фиксирует изменения.

![Диалог фиксации TortoiseSVN](images/tortoisesvn_38.png)
