---
title: "Работа с SVN через TortoiseSVN. 2. Просмотр изменений, обновление, слияние"
date: "2017-01-20"
categories: 
  - "Системы контроля версий (VCS)"
tags: 
  - "svn"
  - "tortoisesvn"
---

# {{ $frontmatter.title }}

В [первой части](http://way23.ru/%d1%80%d0%b0%d0%b1%d0%be%d1%82%d0%b0-%d1%81-svn-%d1%87%d0%b5%d1%80%d0%b5%d0%b7-tortoisesvn-1-%d0%b2%d1%8b%d0%b3%d1%80%d1%83%d0%b7%d0%ba%d0%b0-%d1%84%d0%b8%d0%ba%d1%81%d0%b0%d1%86%d0%b8%d1%8f/) была описана выгрузка и фиксация в репозиторий. В этой части к работе подключается Вася и вносит новые изменения.

## Просмотр изменений

Вася точно также как и Петя создает новый каталог и выгружает репозиторий. По умолчанию выгружается последняя ревизия поэтому в рабочей копии Васи сразу появился файл созданный Петей.

Теперь Вася хочет посмотреть что именно менял Петя в репозитории. Для этого он открывает Журнал, и делает в нем двойном клик на файле который его интересует.

![TortoiseSVN журнал](images/tortoisesvn_12.png)

![TortoiseSVN diff](images/tortoisesvn_13.png)

Сразу видно что Петя вынес весь код в отдельную функцию. Увидев это Вася решил внести новые изменения в код. Он изменяет файл `main.py` и фиксирует.

def hello(name):
    if name == None:
        print('hello!')
    else:
        print('hello ' + name + '!')

hello()

![TortoiseSVN диалог фиксации](images/tortoisesvn_14.png)

Через некоторое время Петя решил проверить состояние репозитория. Для этого он открывает Журнал и видит новую фиксацию Васи

![TortoiseSVN журнал](images/tortoisesvn_15.png)

Для обновления рабочей копии Петя нажимает Обновить

![TortoiseSVN запуск обновления рабочей копии](images/tortoisesvn_16.png)

![TortoiseSVN обновление успешно завершено!](images/tortoisesvn_17.png)

Теперь в рабочей копии последняя версия файла `main.py`. Петя замечает что программа перестала работать, исправляет ошибку и фиксирует файл.

def hello(name):
    if name == None:
        print('hello!')
    else:
        print('hello ' + name + '!')

hello('Petya')

![TortoiseSVN диалог фиксации](images/tortoisesvn_18.png)

Через некоторое время к проекту возвращается Вася и решает добавить новую функцию. Но он забывает обновится перед началом редактирования и изменяет устаревший файл, который не содержит изменений Пети.

def hello(name):
    if name == None:
        print('hello!')
    else:
        print('hello ' + name + '!')

def hello2(name1, name2):
    hello(name1)
    hello(name2)    

hello()

и фиксирует его

![TortoiseSVN диалог фиксации](images/tortoisesvn_19.png)

фиксация не удается. SVN обнаруживает что Вася не обновился и редактировал старую версию файла.

![TortoiseSVN неудачная фиксация](images/tortoisesvn_20.png)

Вася нажимает ОК и TortoiseSVN предлагает ему автоматически обновится.

![TortoiseSVN диалог обновления перед фиксацией](images/tortoisesvn_21.png)

Вася нажимает Обновить. Появляется окно обновления в котором написано что SVN автоматически слил изменения - объединил изменения Пети из репозитория и Васи в рабочей копии в одном файле.

![TortoiseSVN обновление ](images/tortoisesvn_22.png)

После нажатия ОК снова появляется окно фиксации.

![TortoiseSVN фиксация](images/tortoisesvn_23.png)

В этот раз фиксация Васи проходит удачно.

![TortoiseSVN успешная фиксация](images/tortoisesvn_24.png)
